# CATS3

## 前言
此设计基于大道至简原则，从交易系统的基本功能开始设计。  

对于交易系统，功能优先级：
1. 保证已注册用户的基本业务操作（登录、查看行情和交易）；
2. 保证已注册用户的入金；
3. 保证已注册用户的信息查询；
4. B端管理功能；先前已注册的用户表面在表明时间内不会出现风控，所以先保证已注册用户功能。
5. 保证已注册用户的出金；
6. 新用户注册功能；


对于C端用户而言，需要提供三大类功能，即：用户管理（注册和登录）、资金管理（存取款）、交易管理（下单和行情）。  
用户管理，管理用户的信息，确保用户为合法有效用户，可以进行后续资金、交易业务操作。提供用户基础信息，登记造册。   
资金管理（对应现货账户），管理用户出入金变动，确保每一笔资金账务变动正确，可以使用有效资金进行交易业务操作。  
账户交易管理（现货、杠杆、合约），管理用户账户资金及交易，确保每笔交易正确。输入产品及金额或数量，进行交易。输入金额及变动原因和变动来源，进行资金调整。每个账户下有余额=可用 + 冻结。     

对于B端而言，需要添加辅助功能，即：风控、活动、实时信息、周期报表。需要根据用户产生的行为数据（注册、登录、添加额外个人信息、出入金、交易）进行统计分析。  
风控，结合用户信息、出入金和交易行为制定风控模型，精准辨别出恶意用户。数据分析。      
实时信息，给营运提供准实时基础业务信息。实时数据流统计。    
活动，结合用户信息、出入金和交易行为制定活动模型，精准辨别出匹配用户。数据分析。      
报表，给运营提供周期性统计类业务信息。基于columnar数据库统计。  


